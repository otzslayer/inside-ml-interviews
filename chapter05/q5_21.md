# Q5.21 오프라인 예측

>   [!Tip]
>
>   🙋 텍스트 모음에서 토픽을 추론하는 등의 오프라인 예측을 어떻게 수행하나요?

- 실시간 예측 서빙이 필요 없는 배치 스코어링 작업을 의미함

>   [!Tip]
>
>   🙋 일괄 예측 사용 사례를 설명하세요.

- 이메일 및 푸시 알림
	- 실시간 서빙이 필요하지 않은 사용자 유지 캠페인 및 프로모션 캠페인
- 다른 시스템에 공급할 데이터셋을 만드는 경우
	- 광고 타겟팅에 사용하기 위해 사용자의 인구 통계학적 요소를 추론하는 경우
	- 필터링 작업에 사용하기 위해 고객 리뷰에서 주요 특성이나 피처를 추출하는 경우
- 데이터 분석을 수행하는 겨우
	- 감성 분석
		- 고객 피드백 검토, 특정 시장의 최신 토픽 포착, 고객 선호도 변화와 같은 새로운 고객 행동 식별 포함
- 수요 및 가격 모델링
	- 오프라인 예측을 사용해 가격 전략을 조정하고 재고 수준을 최적화해 수요를 충족시키면서 제품 가격을 경쟁력 있게 책정

>   [!Tip]
>
>   🙋 일괄 예측 단계를 설명하세요.

![](https://i.imgur.com/j19jczx.png)
- 여러 가지 방식이 있을 수 있음
	- 파이프라인에 데이터 웨어하우스가 없을 수 있음
	- 점수 예측을 위한 데이터 준비 작업을 별도로 둘 수 있음
	- 다운스트림 종속성은 배치 작업을 통해 분산 스토리지에서 업데이트하거나 Pub/Sub 방식으로 업데이트를 받을 수 있음


1. 데이터를 클라우드 저장소로 보내기
	- 데이터 웨어하우스에 저장된 데이터는 쿼리를 위해 구조화되고 최적화되어 있음
		- 하지만 ML 모델을 사용한 배치 처리에 최적화되어 있다고 보장할 수 없음
	- 따라서 클라우드 저장소로 보내는 것이 좋음
2. 데이터 전처리하기
	- 필터링, 집계, 변환 등 일괄 예측을 위한 데이터 전처리 작업 수행
	- 데이터플로<sup>Dataflow</sup>와 같은 데이터 처리 파이프라인을 사용하면 예약 또는 트리거 기반 작업으로 수행 가능
3. 일괄 예측 작업 실행하기
	- 관련 데이터포인트 전체에 대한 예측을 생성하기 위해 모델 저장소에 학습된 모델을 사용
		- 모델은 메모리에 로드되고 분산 컴퓨팅 리소스를 사용해 병렬로 예측 생성
			- 하둡 맵리듀스 사용 가능
4. 예측 결과를 클라우드 스토리지에 기록하기
	- 예측 작업이 완료되면 적절한 형태로 클라우드 스토리지에 기록
	- 내용에는 실제 예측 결과와 함께 행 식별자 또는 신뢰도 점수와 같은 메타데이터 정보 포함
5. 예측 결과를 데이터 웨어하우스 등으로 보내기
	- 추가 분석 또는 활용을 위해 예측 결과를 데이터 웨어하우스나 다른 시스템으로 송신

