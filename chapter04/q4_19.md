# Q4.19 추천 후보 병합 및 정리

> [!Tip]
>
> 🙋  랭킹 단계로 넘길 추천 후보의 수가 제한되어 있다고 합시다. 서로 다른 알고리즘이 생성한 후보들을 어떻게 병합하고 추려내나요?

### 휴리스틱

-   휴리스틱을 사용해 각 알고리즘의 후보 수를 제한하거나 일부 알고리즘을 다른 알고리즘보다 우선시함
    -   테스트 셋에 대한 성능이나 알고리즘에 대한 일부 사전 지식등을 기반으로 함
-   후보마다의 상대적 품질이나 알고리즘 간의 후보 중복이 고려되지 않음

### 임계치 사용

-   알고리즘의 스코어링 함수에 의해 정의된 임곗값을 기반으로 각 알고리즘의 후보 수를 조정
-   서로 다른 알고리즘이 골라낸 후보 간의 상대적 품질을 고려하지 않는 단점

### 공용 점수<sup>Universal score</sup>

-   모든 알고리즘의 스코어링 함수 출력을 보정하여 공용 점수를 만듦
    -   헤비 랭킹 모델같은 교사<sup>teacher</sup> 모델을 기반으로 각 알고리즘 점수를 정규화
        -   모든 알고리즘을 고려하면서 각 알고리즘에서 가장 적합한 후보를 선택한다는 장점
        -   후보 생성기의 스코어링 함수가 랭킹에 최적화되어선 안된다는 의견도 있음
        -   ML 실무자의 업무량이 늘어날 수 있음

### 회귀<sup>Regression</sup>

-   각 알고리즘의 스코어링 함수를 기반으로 선형 회귀를 수행
    -   종속 변수는 헤비 랭킹의 점수와 같이 교사 모델을 기반으로 할 수 있음
-   단점
    -   대부분의 후보가 모든 알고리즘에 의해 점수가 매겨지지 않음
    -   새로운 알고리즘을 도입하는 속도가 느려질 수 있음

### 라이트 랭킹<sup>Light ranking</sup>

-   모든 후보를 매우 빠른 사전 랭킹 모델로 보냄
    -   사전 랭킹 모델은 컨텍스트와 사용자 선호도를 잘 포착하는 더 복잡한 모델과 피처를 사용함
-   단점
    -   사전 랭킹 모델은 랭킹에는 최적화되어 있지만 다양성 확보는 장담할 수 없음
    -   모든 알고리즘에서 생성된 모든 후보를 처리하지 못할 수 있음



> [!Tip]
>
> 🙋  후보 생성기를 사용해 순위를 매겨 추려낼 수도 있나요?

-   후보 생성기를 순위 매기기에 사용하는 것은 권장하지 않음
    -   여러 후보 생성기가 시스템에서 사용될 때 각각의 점수를 직접 비교할 수 없는 경우가 있음
        -   점수를 종합해 최종 순위를 생성할 때 별도의 랭킹 모델이 필요할 수 있음
    -   랭킹 작업은 더 작은 후보 풀을 다룸
        -   컨텍스트와 사용자 선호도를 더 잘 포착하는 더 복잡한 모델과 피처를 사용할 수 있음
    -   후보 생성기의 스코어링 함수는 랭킹 작업에 최적화되어 있지 않을 수 있음

